(()=>{chrome.runtime.onMessage.addListener((e,a,o)=>{if(e.action==="downloadVideo")return chrome.downloads.download({url:e.url,filename:`Threads/${e.filename}`,saveAs:!1},r=>{r?(console.log("Download started:",r,"Filename:",e.filename),o({success:!0,downloadId:r})):chrome.runtime.lastError&&(console.error("Download failed:",chrome.runtime.lastError),o({success:!1,error:chrome.runtime.lastError.message}))}),!0});console.log("Threads Downloader background script loaded");})();
